<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>REST Resources, URL (notes) - ownport.github.io/notes</title>
    <meta name="google-site-verification" content="LmB1dDy5ueSqYPVOs6z4ylRQgNDxelgPYHsRLLtCG7c" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet" />-->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://ownport.github.io/notes/theme/style.css" rel="stylesheet" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-65731833-1', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body id="index" class="archive">
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://ownport.github.io/notes">ownport.github.io/notes</a>
        </div>
        <div class="collapse navbar-collapse navbar-right">
          <ul class="nav navbar-nav">
            <li><a href="http://ownport.github.io/notes/pages/search.html">Search</a></li>
            <li><a href="http://ownport.github.io/notes/tags.html">tags</a></li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
    </nav>
    <div class="container">
    <section id="content" class="article content">
      <header>
        <h2 class="entry-title">
          REST Resources, URL (notes)
        </h2>
        
        <div class="text-muted">Wed 16 September 2015</div>
      </header>
<!-- .entry-content -->
      <div class="entry-content">
        <p>read original posts:</p>
<ul>
<li><a href="https://restful-api-design.readthedocs.org/en/latest/resources.html">Restful API Design/Resources</a></li>
<li><a href="https://restful-api-design.readthedocs.org/en/latest/urls.html">Restful API Design/URLs</a></li>
</ul>
<p>The fundamental concept in any RESTful API is the resource. A resource is an object with a type, associated data, relationships to other resources, and a set of methods that operate on it. It is similar to an object instance in an object-oriented programming language, with the important difference that only a few standard methods are defined for the resource (corresponding to the standard HTTP GET, POST, PUT and DELETE methods), while an object instance typically has many methods.</p>
<p>Resources can be grouped into collections. Each collection is homogeneous so that it contains only one type of resource, and unordered. Resources can also exist outside any collection. In this case, we refer to these resources as singleton resources. Collections are themselves resources as well.</p>
<p>Collections can exist globally, at the top level of an API, but can also be contained inside a single resource. In the latter case, we refer to these collections as sub-collections. Sub-collections are usually used to express some kind of “contained in” relationship. We go into more detail on this in Relationships.</p>
<h3>Resources data</h3>
<p>Resources have data associated with them. The richness of data that can be associated with a resource is part of the resource model for an API. It defines for example the available data types and their behavior.</p>
<p>In JSON, just three types of data exist:</p>
<ul>
<li>scalar (number, string, boolean, null).</li>
<li>array</li>
<li>object</li>
</ul>
<p>Scalar types have just a single value. Arrays contain an ordered list of values of arbitrary type. Objects consist of a unordered set of key:value pairs, where the key is a string and the value can have an arbitrary type. The three types of data (scalars, arrays and objects) are powerful enough to describe in a natural way virtually all the data that you might want to expose as resource, and at the same time these types are minimal enough so that almost any modern language has built-in support for them.</p>
<h4>Application Data</h4>
<p>The data that can be associated with a resource in terms of the JSON data model, using the following mapping rules:</p>
<ul>
<li>Resources are modeled as a JSON object. The type of the resource is stored under the special key:value pair “_type”.</li>
<li>Data associated with a resource is modeled as key:value pairs on the JSON object. To prevent naming conflicts with internal key:value pairs, keys must not start with “_”.</li>
<li>The values of key:value pairs use any of the native JSON data types of string, number, boolean, null, or arrays thereof. Values can also be objects, in which case they are modeling nested resources.</li>
<li>Collections are modeled as an array of objects.</li>
</ul>
<h4>REST Metadata</h4>
<p>In addition to exposing application data, resources also include other information that is specific to the RESTful API. Such information includes URLs and relationships.</p>
<p>The following table lists generic attributes that are defined and have a specific meaning on all resources. They should not be used for mapping application model attributes.</p>
<table>
<thead>
<tr>
<th>Attributes</th>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Identifies the unique ID of a resource.</td>
</tr>
<tr>
<td>href</td>
<td>String</td>
<td>Identifies the URL of the current resource.</td>
</tr>
<tr>
<td>link</td>
<td>Object</td>
<td>Identifies a relationship for a resource. This attribute is itself an object and has “rel” “href” attributes.</td>
</tr>
</tbody>
</table>
<h4>Other Data</h4>
<p>Apart from application data, and REST metadata, sometimes other data is required as well. This is usually “RPC like” data where a setting is needed for an operation, and where that setting will not end up being part of the resource itself.</p>
<p>It is the responsibility of the API code to merge the application data together with the REST metadata and the other data into a single resource, resolving possible naming conflicts that may arise.</p>
<h3>Representation</h3>
<p>We have defined resources, and defined the data associated with them in terms of the JSON data model. However, these resources are still abstract entities. Before they can be communicated to a client over an HTTP connection, they need to be serialized to a textual representation. This representation can then be included as an entity in an HTTP message body.</p>
<p>The following representations are common for resources. The table also lists the appropriate content-type to use:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Content-Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>JSON</td>
<td>application/x-resource+json, application/x-collection+json</td>
</tr>
<tr>
<td>YAML</td>
<td>application/x-resource+yaml, application/x-collection+yaml</td>
</tr>
<tr>
<td>XML</td>
<td>application/x-resource+xml, application/x-collection+xml</td>
</tr>
<tr>
<td>HTML</td>
<td>text/html</td>
</tr>
</tbody>
</table>
<p>Note: all these content types use the “x-” experimental prefix that is allowed by <a href="http://www.ietf.org/rfc/rfc2046.txt">RFC2046</a></p>
<h3>URLs</h3>
<p>A RESTful API needs to have one and exactly one entry point. The URL of the entry point needs to be communicated to API clients so that they can find the API.</p>
<p>Technically speaking, the entry point can be seen as a singleton resource that exists outside any collection. It is common for the entry point to contain some or all of the following information:</p>
<ul>
<li>Information on API version, supported features, etc.</li>
<li>A list of top-level collections.</li>
<li>A list of singleton resources.</li>
<li>Any other information that the API designer deemed useful, for example a small summary of operating status, statistics, etc.</li>
</ul>
<h4>URL Structure</h4>
<p>Each collection and resource in the API has its own URL. URLs should never be constructed by an API client. Instead, the client should only follow links that are generated by the API itself.</p>
<p>The recommended convention for URLs is to use alternate collection / resource path segments, relative to the API entry point. This is best described by example. The table below uses the ”:name” URL variable style from Rail’s “Routes” implementation.</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>/api</td>
<td>The API entry point</td>
</tr>
<tr>
<td>/api/:coll</td>
<td>A top-level collection named 'coll'</td>
</tr>
<tr>
<td>/api/:coll/:id</td>
<td>The resource 'id' inside collection 'coll'</td>
</tr>
<tr>
<td>/api/:coll/:id/:subcoll</td>
<td>Sub-collection “subcoll” under resource “id”</td>
</tr>
<tr>
<td>/api/:coll/:id/:subcoll/:subid</td>
<td>The resource “subid” inside “subcoll”</td>
</tr>
</tbody>
</table>
<p>It is strongly recommended that the URLs generated by the API should be absolute URLs.</p>
<p>The reason is mostly for ease of use by the client, so that it never has to find out the correct base URI for a resource, which is needed to interpret a relative URL. The URL <a href="http://tools.ietf.org/html/rfc3986#section-5.1">RFC3986</a> specifies the algorithm for determining a base URL, which is rather complex. One of the options for finding the base URL is to use the URL of the resource that was requested. Since a resource may appear under multiple URLs (for example, as part of a collection, or stand-alone), it would be a significant overhead to a client to remember where he retrieved a representation from. By using absolute URLs, this problem doesn’t present itself.</p>
      </div>
<!-- /.entry-content -->
      <footer class="post-info text-muted">
        <button type="button" class="btn btn-default">          
          <a href="http://ownport.github.io/notes/category/articles.html"><div class="fa fa-lg fa-folder-open"></div> articles</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://ownport.github.io/notes/tag/rest.html"><div class="fa fa-lg fa-tag"></div> rest</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://ownport.github.io/notes/tag/api.html"><div class="fa fa-lg fa-tag"></div> api</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://ownport.github.io/notes/tag/resources.html"><div class="fa fa-lg fa-tag"></div> resources</a>
        </button>
      </footer>
      <!-- /.post-info -->
    </section>
    </div>
    <footer class="footer">
      <div class="container">
        <p class="footer-text">&copy; <a href="http://ownport.github.io/notes">ownport.github.io/notes</a> powered by <a href="http://getpelican.com/">pelican</a> and <a href="http://nodotcom.org">nikhil (customized)</a></p>
      </div>
    </footer>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  </body>
</html>